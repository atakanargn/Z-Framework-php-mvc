<div class="content">
    <div class="content-title">
        2. Modeller
    </div>
    <div class="content-body">
        <div class="separate">
            <h4># Bir Model neye benzer?</h4>
            <pre data-highlight-lang="php">
                class User extends Model {
                    # (Opsiyonel) Eğer veriyi fiziksel olarak değil sadece `deleted_at` durumunu değiştirmek istiyorsanız bunu kullanmalısınız.
                    use softDelete; 
            
                    public $table = "users";
                    
                    # (Opsiyonel) Eğer tablonuz ilk bağlandığınız veritabanında değilse bunu kullanmalısınız.
                    public $db = "local"; 
            
            
                    # Çekilen veride göstermek istemediğiniz kolonlar. Ama görmek isterseniz ->select('korunan_kolon_isimleri') şeklinde çektiğiniz veride de yansıtabilirsiniz.
                    public $guard = ['password', 'api_token', 'deleted_at', 'created_at'];
            
            
                    # (Opsiyonel) Tablonun Primary(Ana) kolonunu seçmek için kullanılır. Varsayılan kolon `id` kolonudur.
                    public $primary = "column_name";
                    
                    # (Opsiyonel) Eğer `updated_at` kolonu kullanıyorsanız ve adını değiştirmek istiyorsanız bu parametreyi kullanabilirsiniz. Varsayılan adı `updated_at` idir.
                    public $updated_at = "custom_updated_at_name";
                    
                    # (Opsiyonel) Eğer `created_at` kolonu kullanıyorsanız ve adını değiştirmek istiyorsanız bu parametreyi kullanabilirsiniz. Varsayılan adı `created_at` idir.
                    public $created_at = "custom_created_at_name";

                    # (Opsiyonel) Eğer `deleted_at` kolonu kullanıyorsanız ve adını değiştirmek istiyorsanız bu parametreyi kullanabilirsiniz. Varsayılan adı `deleted_at` idir.
                    public $deleted_at = "custom_deleted_at_name";
                }
            </pre>
        </div>

        <div class="separate">
            <h4># İllegal bir kurnazlık göstermeliyim</h4>
            <div class="separate">
                <small>
                    <font color="red">*</font> Eğer olur da <kbd>softDelete</kbd> ile sildiğiniz verileri görmek
                    isterseniz bu yöntemi kullanabilirsiniz.
                </small>
            </div>
            <pre data-highlight-lang="php">
                $users = new DB;
                $users = $users->table('users')->get(); # Silinmiş veya silinmemiş bütün kullanıcı tablosunu döndürecektir.
            </pre>
        </div>

        <div class="separate">
            <h2># Model Kullanımı</h2>
            <div class="separate">
                <small>
                    <font color="red">*</font> Alt başlıklar şeklinde bütün kullanımların tarifleri.
                </small>
            </div>

            <div class="separate">
                <h3># <kbd>Where</kbd> kullanımı</h3>
                <pre data-highlight-lang="php">
                    $user->where('id', '=', 1)->where('email', '=', 'test@mail.com', 'OR')->get();
                </pre>
                <b>Açıklama;</b>
                <kbd>Users</kbd> tablosunda <kbd>id</kbd>'si <b>1</b> veya <kbd>email</kbd> adresi
                <b>test@mail.com</b> olan kullanıcıları çağır.
            </div>

            <div class="separate">
                <h3># <kbd>Find</kbd> kullanımı</h3>
                <pre data-highlight-lang="php">
                    # Modelde belirlediğimiz `$primary` parametresindeki kolon adına göre arama yapar. Varsayılan `id` kolonudur.
                    $user->find(1, true|false);
                </pre>
                <kbd>`true|false`</kbd> <kbd>Class</kbd> şeklinde mi <kbd>Array</kbd> şeklinde mi döneceğine işaret
                eder.
                <pre>true  = Class
false = Array</pre>
            </div>

            <div class="separate">
                <h3># <kbd>Select</kbd> kullanımı</h3>
                <pre data-highlight-lang="php">
                    $user->select('id, username')->get();
                </pre>
                <b>Açıklama;</b> Kullanıcıların sadece <kbd>id</kbd> ve <kbd>username</kbd> verisini getir.
            </div>

            <div class="separate">
                <h3># <kbd>OrderBy</kbd> kullanımı</h3>
                <pre data-highlight-lang="php">
                    $user->orderBy(['id' => 'ASC', 'username' => 'DESC'])->get();
                </pre>
                <b>Açıklama;</b> Kullanıcılar arasında <kbd>id</kbd> kolonunu küçükten büyüğe, <kbd>username</kbd>
                kolonunu büyükten küçüğe doğru sırala.
            </div>

            <div class="separate">
                <h3># <kbd>GroupBy</kbd> kullanımı</h3>
                <pre data-highlight-lang="php">
                    $user->groupBy('username');
                </pre>
                <b>Açıklama;</b> Aynı <kbd>username</kbd> verisine sahip olanları tek veri olarak say.
                <div class="separate">
                    Aynı veriye sahip olan kayıtların sayısını istersek şu şekilde alabiliriz.
                    <pre data-highlight-lang="php">
                        $users = $user->select('*, COUNT(username) as ayni_kullanici_adi_sayisi')->groupBy('username')->get();
                        echo $users[0]['ayni_kullanici_adi_sayisi'];
                    </pre>
                </div>
            </div>

            <div class="separate">
                <h3># <kbd>Limit</kbd> kullanımı</h3>

                <div class="separate">
                    <font color="red">*</font> Örnek Argümanlar: <kbd>->limit(10 <small>(Başlangıç sayısı)</small>, 20
                        <small>(Satır sayısı)</small>);</kbd>
                </div>
                <pre data-highlight-lang="php">
                    $user->limit(5, 10)->get();
                </pre>
            </div>

            <div class="separate">
                <div class="separate">
                    <h3># <kbd>Paginate (Sayfalama)</kbd> kullanımı</h3>
                    <pre data-highlight-lang="php">
                        $users = $user->paginate(20, 'kullanici_sayfalama', true|false);
                    </pre>
                    <b>Açıklama;</b> <kbd>20</kbd> sayısı her sayfada kaç tane olacağını belirtir,
                    <kbd>`kullanici_sayfalama`</kbd> ise URL içindeki İstek adıdır, <kbd>true|false</kbd> ise önceden
                    belirtildiği
                    anlama gelmektedir.
                </div>

                <div class="separate">
                    <h4># İç kullanımlar</h4>

                    <small>Otomatik Sayfalama Linkleri</small>
                    <pre data-highlight-lang="php">
                        $users['links']();
                    </pre>
                </div>
            </div>

            <div class="separate">
                <h3># <kbd>Joins</kbd> kullanımı</h3>
                <pre data-highlight-lang="php">
                    $user->join('LEFT|RIGHT|OUTER|FULL|NULL', 'table_name', ['table_name.id', '=', 'this_table.id'])->get();
                </pre>
                <h5># Ayrıca çektiğiniz tabloya isim de verebilirsiniz.</h5>
                <pre data-highlight-lang="php">
                    $user->join('LEFT|RIGHT|OUTER|FULL|NULL', 'table_name as name', ['name.id', '=', 'this_table.id'])->get();
                </pre>
            </div>

            <div class="separate">
                <h4># Toplu bilgiler</h4>
                <pre data-highlight-lang="php">
                    print_r([
                        "get" => $user->get(),
                        "first" => $user->where('id', '=', 1)->first(),
                        "firstOrFail" => $user->where('id', '=', 1)->firstOrFail(), || Eğer aranan veriyi bulamazsa 404 dönecektir.
                        "count" => $user->count(),
                        "insert" => $user->insert([
                            'username' => 'username',
                            'password' => 'password',
                            'email' => 'email@mail.com'
                        ]),
                        "update" => $user->where('id', '=', 1)->update([
                            'email' => 'test@mail.com'
                        ]),
                        "delete" => $user->where('id', '>', 0)->delete()
                    ]);
                </pre>
            </div>

            <div class="separate">
                <h4># Ek bilgiler</h4>

                <div>
                    Çektiğiniz veriler <kbd>Class</kbd> yapısında mı <kbd>Array</kbd> yapısında mı dönsün istiyorsunuz?
                </div>
                <div>
                    <small>Varsayılan olarak Array dönmektedir.</small>
                </div>
                <pre data-highlight-lang="php">
                    $...->get(true);
                    $...->first(true);
                    $...->find(..., true);
                    $...->paginate(..., ..., true);
                </pre>
            </div>

        </div>
    </div>
</div>